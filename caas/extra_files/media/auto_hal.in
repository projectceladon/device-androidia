update_codec() {
case "$(cat /proc/fb)" in
        *i915drmfb)
                echo "Intel"
                setprop vendor.intel.video.codec hardware
                ;;
        *inteldrmfb)
                echo "Intel"
                setprop vendor.intel.video.codec hardware
                ;;
        *i915)
                echo "Intel"
                setprop vendor.intel.video.codec hardware
                ;;
        *)
                case "$(cat /mnt/share/mixins.spec)" in
                        *gpu-type:sriov*)
	                        echo "Intel SRIOV"
                                setprop vendor.intel.video.codec hardware
                                ;;
                        *)
                                echo "Software codec"
                                setprop vendor.intel.video.codec software
                                ;;
                esac
                ;;
esac
}
update_codec
